{"ast":null,"code":"var _jsxFileName = \"/home/shivam/code/kiefer/src/components/Login.js\";\nimport React from \"react\";\nimport Axios from \"axios\";\nimport { Form, Label, Message, Grid } from \"semantic-ui-react\";\nimport { withRouter } from \"react-router\";\n\nclass Login extends React.Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      error: false,\n      email: \"\",\n      password: \"\",\n      submittedName: \"\",\n      submittedEmail: \"\"\n    };\n\n    this.handleChange = (e, {\n      name,\n      value\n    }) => this.setState({\n      [name]: value\n    });\n\n    this.handleSubmit = () => {\n      const _this$state = this.state,\n            email = _this$state.email,\n            password = _this$state.password;\n      this.getLoginUserRequest(email, password).then(result => {\n        if (result.data.success) {\n          this.props.history.push(`/dashboard`, {\n            user: result.data.user\n          });\n        } else {\n          this.setState({\n            error: true\n          });\n        }\n      });\n    };\n\n    this.getLoginUserRequest = (email, password) => {\n      return Axios({\n        method: \"post\",\n        params: {\n          email: email,\n          password: password\n        },\n        url: \"http://127.0.0.1:8000\" + \"/user/login\",\n        withCredentials: true\n      });\n    };\n  }\n\n  render() {\n    return React.createElement(Grid, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 43\n      },\n      __self: this\n    }, React.createElement(Grid.Row, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 44\n      },\n      __self: this\n    }, React.createElement(Grid.Column, {\n      width: 3,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 45\n      },\n      __self: this\n    }, React.createElement(Form, {\n      error: this.state.error,\n      onSubmit: this.handleSubmit,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 46\n      },\n      __self: this\n    }, React.createElement(Form.Field, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 47\n      },\n      __self: this\n    }, React.createElement(\"label\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 48\n      },\n      __self: this\n    }, \" email address\"), React.createElement(Form.Input, {\n      onChange: this.handleChange,\n      name: \"email\",\n      placeholder: \"email address\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 49\n      },\n      __self: this\n    })), React.createElement(Form.Field, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 55\n      },\n      __self: this\n    }, React.createElement(\"label\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 56\n      },\n      __self: this\n    }, \" password\"), React.createElement(Form.Input, {\n      onChange: this.handleChange,\n      name: \"password\",\n      placeholder: \"password\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 57\n      },\n      __self: this\n    })), React.createElement(Message, {\n      error: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 63\n      },\n      __self: this\n    }, \" incorrect password\"), React.createElement(Form.Button, {\n      type: \"submit\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 64\n      },\n      __self: this\n    }, \" login\"))), \" \"));\n  }\n\n}\n\nLogin = withRouter(Login);\nexport default Login;","map":{"version":3,"sources":["/home/shivam/code/kiefer/src/components/Login.js"],"names":["React","Axios","Form","Label","Message","Grid","withRouter","Login","Component","state","error","email","password","submittedName","submittedEmail","handleChange","e","name","value","setState","handleSubmit","getLoginUserRequest","then","result","data","success","props","history","push","user","method","params","url","withCredentials","render"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport Axios from \"axios\";\n\nimport { Form, Label, Message, Grid } from \"semantic-ui-react\";\nimport { withRouter } from \"react-router\";\n\nclass Login extends React.Component {\n  state = {\n    error: false,\n    email: \"\",\n    password: \"\",\n    submittedName: \"\",\n    submittedEmail: \"\"\n  };\n\n  handleChange = (e, { name, value }) => this.setState({ [name]: value });\n\n  handleSubmit = () => {\n    const { email, password } = this.state;\n    this.getLoginUserRequest(email, password).then(result => {\n      if (result.data.success) {\n        this.props.history.push(`/dashboard`, { user: result.data.user });\n      } else {\n        this.setState({ error: true });\n      }\n    });\n  };\n\n  getLoginUserRequest = (email, password) => {\n    return Axios({\n      method: \"post\",\n      params: {\n        email: email,\n        password: password\n      },\n      url: \"http://127.0.0.1:8000\" + \"/user/login\",\n      withCredentials: true\n    });\n  };\n\n  render() {\n    return (\n      <Grid>\n        <Grid.Row>\n          <Grid.Column width={3}>\n            <Form error={this.state.error} onSubmit={this.handleSubmit}>\n              <Form.Field>\n                <label> email address</label>\n                <Form.Input\n                  onChange={this.handleChange}\n                  name=\"email\"\n                  placeholder=\"email address\"\n                />\n              </Form.Field>\n              <Form.Field>\n                <label> password</label>\n                <Form.Input\n                  onChange={this.handleChange}\n                  name=\"password\"\n                  placeholder=\"password\"\n                />\n              </Form.Field>\n              <Message error> incorrect password</Message>\n              <Form.Button type=\"submit\"> login</Form.Button>\n            </Form>\n          </Grid.Column>{\" \"}\n        </Grid.Row>\n      </Grid>\n    );\n  }\n}\n\nLogin = withRouter(Login);\n\nexport default Login;\n"]},"metadata":{},"sourceType":"module"}