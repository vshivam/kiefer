{"ast":null,"code":"var _jsxFileName = \"/home/shivam/code/kiefer/src/components/Login.js\";\nimport React from \"react\";\nimport Axios from \"axios\";\nimport { Form, Label, Message } from \"semantic-ui-react\";\nimport { withRouter } from \"react-router\";\n\nclass Login extends React.Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      error: false,\n      email: \"\",\n      password: \"\",\n      submittedName: \"\",\n      submittedEmail: \"\"\n    };\n\n    this.handleChange = (e, {\n      name,\n      value\n    }) => this.setState({\n      [name]: value\n    });\n\n    this.handleSubmit = () => {\n      const _this$state = this.state,\n            email = _this$state.email,\n            password = _this$state.password;\n      this.getLoginUserRequest(email, password).then(result => {\n        if (result.data.success) {\n          this.props.history.push(`/dashboard`);\n        } else {\n          this.setState({\n            \"error\": true\n          });\n        }\n      });\n    };\n\n    this.getLoginUserRequest = (email, password) => {\n      return Axios({\n        method: \"post\",\n        params: {\n          email: email,\n          password: password\n        },\n        url: \"http://127.0.0.1:8000\" + \"/user/login\",\n        withCredentials: true\n      });\n    };\n  }\n\n  render() {\n    return React.createElement(Form, {\n      error: this.state.error,\n      onSubmit: this.handleSubmit,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 38\n      },\n      __self: this\n    }, React.createElement(Form.Field, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 39\n      },\n      __self: this\n    }, React.createElement(Label, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 40\n      },\n      __self: this\n    }, \" email address\"), React.createElement(Form.Input, {\n      onChange: this.handleChange,\n      name: \"email\",\n      placeholder: \"email address\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 41\n      },\n      __self: this\n    })), React.createElement(Form.Field, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 43\n      },\n      __self: this\n    }, React.createElement(Label, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 44\n      },\n      __self: this\n    }, \" password\"), React.createElement(Form.Input, {\n      onChange: this.handleChange,\n      name: \"password\",\n      placeholder: \"password\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 45\n      },\n      __self: this\n    })), React.createElement(Message, {\n      error: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 47\n      },\n      __self: this\n    }, \" incorrect password\"), React.createElement(Form.Button, {\n      type: \"submit\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 48\n      },\n      __self: this\n    }, \" login\"));\n  }\n\n}\n\nLogin = withRouter(Login);\nexport default Login;","map":{"version":3,"sources":["/home/shivam/code/kiefer/src/components/Login.js"],"names":["React","Axios","Form","Label","Message","withRouter","Login","Component","state","error","email","password","submittedName","submittedEmail","handleChange","e","name","value","setState","handleSubmit","getLoginUserRequest","then","result","data","success","props","history","push","method","params","url","withCredentials","render"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport Axios from \"axios\";\n\nimport { Form, Label, Message } from \"semantic-ui-react\";\nimport { withRouter } from \"react-router\";\n\nclass Login extends React.Component {\n  state = { error:false, email: \"\", password: \"\", submittedName: \"\", submittedEmail: \"\" };\n\n\n  handleChange = (e, { name, value }) => this.setState({ [name]: value });\n\n  handleSubmit = () => {\n    const { email, password } = this.state;\n    this.getLoginUserRequest(email, password).then(result => {\n        if(result.data.success){\n            this.props.history.push(`/dashboard`)\n        } else {\n            this.setState({\"error\": true})\n        }\n    })\n  };\n\n  getLoginUserRequest = (email, password) => {\n    return Axios({\n        method: \"post\",\n        params: {\n            email: email,\n            password: password,\n        },\n        url: \"http://127.0.0.1:8000\" + \"/user/login\",\n        withCredentials: true\n    })\n  }\n\n  render() {\n    return (\n      <Form error={this.state.error} onSubmit={this.handleSubmit}>\n          <Form.Field>\n          <Label> email address</Label>\n          <Form.Input onChange={this.handleChange} name=\"email\" placeholder=\"email address\" />\n        </Form.Field>\n        <Form.Field>\n          <Label> password</Label>\n          <Form.Input onChange={this.handleChange} name=\"password\" placeholder=\"password\" />\n        </Form.Field>\n        <Message error> incorrect password</Message>\n        <Form.Button type=\"submit\"> login</Form.Button>\n      </Form>\n    );\n  }\n}\n\nLogin = withRouter(Login)\n\nexport default Login;\n"]},"metadata":{},"sourceType":"module"}